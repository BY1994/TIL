# 2022-01-04 (T32 Bus error)

### Trace 32 사용시 CPU Bus error 가 나는 원인

`Data.LOAD.Binary "C:\이미지경로\이미지파일" 0x00000000` 이런 식으로 원하는 주소에 바이너리를 올리려고 할 때, CPU bus error 가 발생한다. 그 원인은 접근할 수 없는 메모리를 건드리기 때문이다. 바이너리 사이즈가 너무 커서 접근할 수 없는 영역에까지 올리려고 시도하게 되면 문제가 발생한다.

> "bus error generated by cpu" 는 왜 발생하나요?
>
> 프로세서가 접근할 수 없는 메모리에 읽기/쓰기를 시도할 때 발생합니다.

http://trace32.com/wiki/index.php/Bus_error



### 해결 방법

`data.load.binary "C:\이미지경로\이미지파일" 0x0--0x1000 혹은 0x0++0xff` 이런식으로 주소 0x0 ~ 0x1000 (range) 혹은 0x0 부터 0x0+0xff (length) 까지로 지정하면 된다. 접근할 수 없는 영역에 올리지 않도록 이미지파일이 올라가는 영역을 지정해준다. 이미지 파일이 잘리면 안 된다면 이미지 파일 크기를 미리 줄여놔야할 것이다.

https://blog.daum.net/sharer77/6900068



### 메모리맵 빨리 계산하는 방법

0x1000_0000 차이는 256 MB

0x0100_0000 차이는 16 MB

0x0010_0000 차이는 1 MB

0x0001_0000 차이는 64 KB

0x0000_1000 차이는 4 KB

0x0000_0100 차이는 1 KB

이 외에 프로그래머 계산기로 직접 계산하려면 1024를 곱한 다음 HEX 결과를 보면 된다.

예를 들어, 96 KB 라면 96 * 1024 한 결과인 0x18000 이 크기가 된다.

(메모리맵에서는 0x0 ~ 0x17fff 범위가 96 KB가 될 것)

