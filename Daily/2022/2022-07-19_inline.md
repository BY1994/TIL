# 2022-07-19 (inline)

compiler 최적화 옵션을 끄면 inline 이 적용되지 않는가?

https://web.mit.edu/rhel-doc/3/rhel-gcc-en-3/inline.html

> The effect on code size is less predictable; object code may be larger or smaller with function inlining, depending on the particular case. Inlining of functions is an optimization and it really "works" only in optimizing compilation. If you don't use `-O`, no function is really inline.

inline 은 컴파일러에게 inline 화 시켜도 된다고 알려주는 것이기 때문에 (무조건 inline 되지 않음) 최적화 옵션이 꺼지면 컴파일러는 함수를 inline 화 시키지 않는다.

> GCC does not inline any functions when not optimizing unless you specify the `always_inline` attribute for the function, like this:

```c
/* Prototype.  */
inline void foo (const char) __attribute__((always_inline));
```

최적화 옵션을 꺼도 위와 같이 attribute 를 이용하면 inline 화할 수 있다고 한다. (확인 필요)

※ 시험장 환경에서 attribute 사용을 허가하지 않으므로 이 방법은 사용할 수 없다.

